<!doctype html>
<html>
    <head>
        <!-- Standard template stuff, don't mess with it -->
        <meta charset="utf-8">

        <!-- Use Liquid and Jekyll to automatically set the page title -->
	<title>
	    
	    
	    Basics: Working Directories and File Paths
	    
	</title>


        <!-- ------------------- -->
        <!-- Linking Stylesheets -->
        <!-- ------------------- -->

        <!-- Bootstrap -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">

        <!-- Modest (prebuilt css, slightly modified) -->
	<link rel="stylesheet" type="text/css" href="http://localhost:4000/assets/css/modest.css">
        <!-- Individual tweaks to css settings -->
	<link rel="stylesheet" type="text/css" href="http://localhost:4000/assets/css/extra_styles.css">

        <!-- Google Fonts -->
        <link href="https://fonts.googleapis.com/css2?family=Arimo:ital,wght@0,400;0,700;1,400;1,700&family=Merriweather:ital,wght@0,300;0,400;0,700;0,900;1,300;1,400;1,900&family=Open+Sans+Condensed:ital,wght@0,300;0,700;1,300&display=swap"
              rel="stylesheet">
    </head>






    <body class="d-flex flex-column">

	<!-- -------------- -->
	<!-- Navigation Bar -->
	<!-- -------------- -->
        <nav class="navbar navbar-expand-sm">
    <div class="container" id="internal-nav">
        <div class="row">
	    <a class="navbar-brand" href="http://localhost:4000/">Learning Stata</a>
            <span class="navbar-text">An unofficial resource for Stata users</span>
        </div>
        <div class="navbar-nav">
            <a class="nav-item nav-link" href="#">About</a>
            <div class="dropdown">
                <a class="nav-link dropdown-toggle" data-toggle="dropdown"
                   href="#"
                   role="button"
                   aria-haspopup="true" aria-expanded="false">Select a Module</a>
                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                    
                        
                    
                        
                    
                        
                            <a class="dropdown-item" href="http://localhost:4000/stata_modules/learning_stata_4_working_with_do_files.html">4. Basics: Working with .do files and writing style</a>
                        
                    
                        
                            <a class="dropdown-item" href="http://localhost:4000/stata_modules/learning_stata_5_working_directories.html">5. Basics: Working Directories and File Paths</a>
                        
                    
                        
                    
                </div>
            </div>
        </div>
    </div>
</nav>


	<!-- -------------------------- -->
	<!-- Table of Contents Pop-Over -->
	<!-- -------------------------- -->
	
            <div id="ToC">
                <button id="toc-close"
                        type="button"
                        class="btn btn-outline-primary"
                        aria-label="Close">Close table of contents</button>
	        <h2><a href="#">5. Basics: Working Directories and File Paths</a></h2>
            </div>
	



	<!-- ------------ -->
	<!-- Main Content -->
	<!-- ------------ -->

        <div class="content col mb-auto">
            <h1 class="border-top border-bottom" id="title">Basics: Working Directories and File Paths</h1>

	    <!-- Include a button to bring up the ToC unless specified otherwise -->
	    
                <div id="btn-container" class="d-flex flex-row justify-content-center">
                    <button id="toc-btn" type ="button" class="btn btn-outline-primary">View table of contents</button>
                </div>
	    

	    <!-- Insert the main content of the Markdown file -->
            <h1 id="working-directories-and-file-paths">Working directories and file paths</h1>

<p>In our first do file, we used a data set that is stored internally in Stata. We can load it by using the <code class="language-plaintext highlighter-rouge">sysuse</code> command. The following command will list all of the stored data sets that are installed with Stata.</p>

<pre><code class="language-stata">sysuse dir 
</code></pre>

<p>What if we want to use our own data file that is not installed with Stata? We employ the <code class="language-plaintext highlighter-rouge">use</code> command to load it, but first we need to be sure that Stata knows where to find this file.</p>

<h2 id="what-are-directories">What are directories?</h2>

<p>You can think of directories as places on your computer where you store information. Most people tend to navigate through their computer’s directories by clicking on folders in a file explorer. Directories are also sometimes called “paths” because they tell your computer how to find a file.</p>

<p>For example, say that my computer has one folder on my desktop, which contains three folders. The paths, or directories, might look like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>C:/Desktop
C:/Desktop/myfiles
C:/Desktop/myfiles/data
C:/Desktop/myfiles/do_files
C:/Desktop/myfiles/output
</code></pre></div></div>

<p>If you are using a Unix-based computer (e.g. a Mac or a Linux device), your directories probably begin with a forward slash instead of <code class="language-plaintext highlighter-rouge">C:</code>, like this:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/Desktop
/Desktop/myfiles
/Desktop/myfiles/data
/Desktop/myfiles/do_files
/Desktop/myfiles/output
</code></pre></div></div>

<h2 id="working-directories">Working directories</h2>

<p>Your “working directory” can be understood as the de facto location on your computer from which Stata will begin to look for files. Every time you open Stata, you must be aware of what the working directory is. I guarantee that the most common error that will arise when running do files!</p>

<p>Let’s say that I have stored a data file (data1.dta) in my “data” folder. How do I open it when writing my do file? I could type:</p>

<pre><code class="language-stata">use data1.dta  
</code></pre>

<p>That could work, but ONLY IF the working directory is set to the right location. If your working directory is set to “C:/Desktop” then Stata will return an error message saying it can’t find the file. Why? Because you asked it to find “C:/Desktop/data1.dta” which is not where the file is. The correct path and file name is: “C:/Desktop/myfiles/data/data1.dta”, which is not what you entered.</p>

<p>One solution is to describe the “absolute path” for Stata. An absolute path describes <em>exactly</em> where the file is on your computer. For example, if you had typed the following, you would not have received an error message:</p>

<pre><code class="language-stata">use "C:/Desktop/myfiles/data/data1.dta"
</code></pre>

<p>Great! But . . . this approach probably will not work if you use multiple computers (e.g. you use cloud storage, you get a new computer every few years, you are working with collaborators, etc). Thus – using the full file path and file name is not a foolproof approach.</p>

<p>Instead, you should create a directory structure with a common “base” and then set that base directory as your “working directory” when you open Stata. Looking at my directory structure above, you can see that I have a base directory, which serves as a main folder that holds several subfolders used to organize my files: “C:/Desktop/myfiles”. If I set my working directory to that folder, then I can access and save to the subfolders that are nested within it.</p>

<h3 id="what-is-my-current-working-directory">What is my current working directory?</h3>

<p>How do you know what your working directory is in Stata? The WD is listed on the bottom bar of the screen (below the command line). You can also print the directory by using the command <code class="language-plaintext highlighter-rouge">pwd</code>, which stands for “print working directory.”</p>

<h3 id="how-do-i-change-my-working-directory">How do I change my working directory?</h3>

<p>The easiest way to set your working directory is to use the drop down menu – the only time I will ever advocate using it in Stata!</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>File -&gt; Change working directory. [Select the correct working directory.] 
</code></pre></div></div>

<p>It is easy and foolproof. You can also use the command <code class="language-plaintext highlighter-rouge">cd</code>, which stands for “change directory.” For example, you might type the following:</p>

<pre><code class="language-stata">cd "C:/Desktop/myfiles"
</code></pre>

<h2 id="using-your-own-data">Using your own data</h2>

<p>Now that my working directory is set to my desired location, I can open my data file by specifying the correct folder and file name. I include the following command in my do file:</p>

<pre><code class="language-stata">use data/data.dta // Notice - 'use' not 'sysuse' 
</code></pre>

<p>If I want to save a graph, I can save it to the “output” folder (in my base directory) by including the correct path (from the working directory). Note that you could label this folder anything you want, such as “graphics”. For example:</p>

<pre><code class="language-stata">graph mpg, saving(output/graph1.gph) 
</code></pre>

<p><img src="/stata_modules/pics/graph1.png" alt="Our graph." /></p>

<p>If I hadn’t specified the “output” folder as the destination for the file, Stata would have saved the graph in the working directory (<code class="language-plaintext highlighter-rouge">C:/Desktop/myfiles</code>).</p>

<p>For these tutorials, I have created a dir structure for you that resembles the one above:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>learning_stata
learning_stata/data
learning_stata/do_files
learning_stata/output
</code></pre></div></div>

<p>You need to copy and paste the <code class="language-plaintext highlighter-rouge">learning_stata</code> directory to your hard drive. The base directory is <code class="language-plaintext highlighter-rouge">learning_stata</code>, so you will need to set Stata to that as the working directory for all of the do files to run without errors.</p>

        </div>


	<!-- ------ -->
	<!-- Footer -->
	<!-- ------ -->
        
<footer>
    <div class="d-flex flex-md-row w-100" id="footer-text">
        <div class="mr-auto">
            
            <p>Author: Bill Carbonaro</p>
            
        </div>
	<p><span id="footer-subtle">Last updated: 2020-05-31 17:51:29 -0400 | </span></p>
        <p>Built and maintained with Jekyll</p>
    </div>
</footer>




	<!-- ---------------------------------------------------------- -->
	<!-- Links to Javascript scripts: first three are for Bootstrap -->
	<!-- ---------------------------------------------------------- -->
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
	<!-- Script for generating ToC content and functionality -->
        <script src="../assets/javascript/table_of_contents.js"></script>
    </body>
</html>
